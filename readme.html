**Domain-Specific Language - Write Up**

Student Info
============

Your names: Joey Ferguson, Bryson Shelor, Andrew Dorn

Which languages did you use: ANTLR, Java

Operating systems: Windows

Lab computers or your own computers: Both

Did you receive help from your instructor? Yes, some.


Domain
======

Define the domain.
------------------
We would like to create a solution for anyone to generate a layout design quickly and easily.
This language is specific to layout design and will not be expanded to other general purpose problems.

Define the problem. What is the purpose of the language?
--------------------------------------------------------
It is time consuming, tedious, error prone, and not easily repeatable to make bulletins that
are professional, dynamic, and consistent. We would like to create a language that allows users to easily 
generate graphical solutions that overcome these problems and meet these standards. There are also quite 
a lot of people that aren't proficient in design, and could greatly benefit from a tool that assists them 
in the creational of a professional layout.

Processing capabilities of our proposed language?
--------------------------------------------------------
Will include automation of date ordering for items specified by the user. Dates will be associated with items and we will then process
the order for displaying these items. In addition to ordering by date, we also plan to incorporate an importance order. Each 
Item will have a significance value associated with it specified by the user which will allow the language to display the information
in a relavent order. Another option for processing by date/importance will be included in a prayer requests section. In this section, 
a user can easily place prayer requests by importance. If the user does not specify an importance value, the order continues based off
the date.

Create example "solutions". What is the expected output for some examples of valid input?
-----------------------------------------------------------------------------------------
After the user specifies how they want their layout attributes (headings, columns, images, fonts, etc.) 
to look, the output file will consist of HTML and CSS, and the user will also have the option to generate 
a PDF of their bulletin. The example below demonstrates how the calender would be created for the bulletin.

Example Input:
```
#!Header{This week in the life of the Church}
[03 March 2019; 09:00]{Morning Service}
[09 March 2019; 14:00]{Intramural Church Softball game}
[07 March 2019; 18:30]{Weekly Men's group}
```

Example Output:
```
This Week in the life of the Church:
*Sunday:*    9:00 am : Morning Service
*Thursday:*  6:30 pm : Weekly Men's group
*Saturday:*  2:00 pm : Intramural Church Softball game

* = bold
```

Define functionality. How is the output determined for a given input?
---------------------------------------------------------------------
We will define certain grammar that represents different layout attributes for the purpose of creating 
properly formatted output files. The parser will parse our input based on predefined structures from our 
grammar. The translator will do most of the work, because it will convert our code into something that 
can be displayed on a webpage or PDF.



Grammar
=======

Describe your grammar and what it does.
---------------------------------------
We implemented our grammar in the way that made the most sense to us. Basically, the user can specify a
number of columns, as well as the width and height of the page at the top. (We might add some more of 
these settings as we find it necessary.) Then, all the elements of our grammar should be in a column. If
they want to format a plain document, they could just use one column. If they wanted a 6-column brochure,
they should have that option as well. Titles, headers, body, items (with optional time and date), images, 
and footers were all implemented so that there could be multiple of any of them, and in any order the 
user wants.

![A screenshot showing our grammar that we have so far. Some of it might change later.](screenshots/grammar.png width="600px")

Did you have to change a lot from what you envisioned?
------------------------------------------------------ 
Yes, we had to change quite a bit based on what we thought our original input should be. We wanted to 
make it readable and managable to create documents quickly and easily. We ended up adding a few more 
features than we initially planned, and that was due to the fact that we started thinking about how users
would likely want to have flexibility when typing out their documents. This included using a number of 
different opening tags, date separators, and delimeters to give them the choice of what they wanted to 
use.

What gave you trouble during this deliverable?
---------------------------------------------- 
It was difficult to get the order of everything working correctly, but we were able to ask Dr. Denning 
about it and figure out a way to do what we wanted. We also had trouble dealing with whitespace, but we 
found a way that makes sense, and that's to ignore all whitespace entirely unless it's part of a string. 
Other than that, this was a pretty straightforward deliverable.

Example Input
-------------
```
Columns : 6
Width   : 11
Height  : 8

1====

Title { "Welcome to our church!" }
Header { "Learn about our events and small groups!" }

Body { "Here are some upcoming events." }

Item {
    Date : 12/31/18
    Time : 09:00 AM
    "Men's Breakfast"
}

Item {
    Date : 1/9/2019
    Time : 12:00 PM
    "Group Luncheon"
}

Header { "Learn about our events and small groups!" }

Image {
    Tag : "Caption of a cool picture"
    URL : https://cse.taylor.edu/cse_wpsite/wp-content/uploads/2016/07/jon-denning-800.jpg
}

Footer { "Copyright This Church" }

2=====

Header { Here is the start of the second column, and so on. }
```

All of this is deemed valid by the grammar, as shown by:

![Successfully recognizes input](screenshots/grammar2.png width="600px")


Parser
======

Describe your parser and what it does.
-------------------------------------- 
Our parser is generated completely by ANTLR. Essentially, the grammar file generates all the functions 
that ANTLR needs to correctly tokenize the input file and get it ready for translation. For instance, at 
the beginning of the input file, when the user specifies:

```
Columns : 6
Height  : 8.5 
Width   : 11
```

The parser will go through and create tokens for `Columns`, `:`, `6`, and `\n` and make sure that it's 
valid input based on the grammar file. It does this for the entire input file until it has a valid token 
stream.

Is there anything that gave you trouble during this deliverable? 
---------------------------------------------------------------- 
No, not at all. We actually misinterpreted the requirements of the grammar deliverable and finished our 
grammar fully by then. The parsing has already been done based on the files that get generated by ANTLR. 
This was a pleasant surprise for us when we figured this out, and we're planning on taking advantage of 
this time to work on the translation, which we anticipate taking a lot longer.

Will you have to change anything in later steps?
------------------------------------------------ 
More than likely, yes. We know that translating a bunch of JSON-like objects into HTML won't be super 
easy, but we're hoping it's pretty straightforward. However, there will undoubtedly be some oversight 
that we didn't anticipate earlier in the project, so our grammar might be slightly modified even after 
this deliverable. 

Do you anticipate any challenges in the future? 
----------------------------------------------- 
Converting HTML into something printable, like a PDF, might be a little challenging. We're hoping to find 
a tool that is able to help us convert between HTML and PDF easily, so the only thing we'll have to worry 
about is translating to HTML and adding some sort of computational aspect to our language.

<style class="fallback">body{visibility:hidden;white-space:pre;font-family:monospace}</style><script src="markdeep.min.js"></script><script src="https://casual-effects.com/markdeep/latest/markdeep.min.js?"></script><script>window.alreadyProcessedMarkdeep||(document.body.style.visibility="visible")</script>